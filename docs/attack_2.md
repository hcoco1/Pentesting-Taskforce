# **Attack 2: Man-In-The-Middle (MITM)**
!!! note ""

## **Intro Video**: 
<div align="center">
<iframe width="672" height="378" src="https://www.youtube.com/embed/BwDyJ0GiOlE?si=8H41A_b5fUHuY3Vk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div>

## Step-by-Step Guide

### Use Nmap to Find Live Hosts, Open Ports, and Available Services

1. Open a terminal and run the following Nmap command to scan the network for live hosts and their open ports:
    ```bash
    nmap -sP 192.168.1.0/24
    ```
    This will give you a list of live hosts on the network.

2. To find open ports and available services on a specific host, use:
    ```bash
    nmap -sV 192.168.1.X
    ```
    Replace `192.168.1.X` with the IP address of the target host.

### Take Note of the IP and MAC Addresses

- The output of the Nmap scan will include IP and MAC addresses. Note down these details for the target systems.

### Start Wireshark to View and Capture the Packets

1. Open Wireshark.
2. Choose the appropriate network interface to start capturing packets.
3. Click on the start button to begin capturing.

### Open and Setup Ettercap for ARP Poisoning Attack

1. Open a terminal and start Ettercap with root privileges:
    ```bash
    sudo ettercap -G
    ```
2. In the Ettercap GUI:
    - Go to `Sniff > Unified Sniffing`.
    - Select your network interface.
    - Go to `Hosts > Scan for hosts`.
    - Go to `Hosts > Host list` to see the list of discovered hosts.
    - Add the target IP addresses to Target 1 and Target 2 (you can use the `Add to Target 1` and `Add to Target 2` buttons).

### Run Ettercap for ARP Poisoning

1. In Ettercap, go to `Mitm > ARP poisoning`.
2. Select `Sniff remote connections` and click `OK` to start the ARP poisoning attack.

### Switch Back to Wireshark to Collect Findings

1. Return to Wireshark and observe the captured packets.
2. Look for unusual traffic between the target systems, such as HTTP, FTP, or other clear-text protocols, where you might see sensitive information being transmitted.

!!! note ""

<div class="button-container" markdown="1">
<a href="/Pentesting-Taskforce/attack_1/" class="md-button md-button--primary">Previous: attack 1</a>
<a href="/Pentesting-Taskforce/" class="md-button md-button--secondary">Home üè†</a>
<a href="/Pentesting-Taskforce/attack_3/" class="md-button md-button--primary">Next: attack 3</a>
</div>